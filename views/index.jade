extends layout

block content
    for album in albums
        div.row
            h2(class="album-title")
                a(class="anchor", name="#{album.date}-#{album.name}", href="##{album.date}-#{album.name}")
                    i(class="icon-link hide")
                if isAuthenticated
                    div(class="btn-group pull-right btn-group-album-options")
                        i(class="icon-gear dropdown-toggle", data-toggle="dropdown")
                        ul(class="dropdown-menu")
                            li
                                a(href="/upload/#{album.id}") Add to this Album
                            li
                                a(href="/delete/#{album.id}", data-album-name="#{album.name}", class="button-delete-album") Delete this Album
                | #{album.name}
                small.muted(style="padding-left: 10px") #{album.date}

            div.photos

block script
    script(src="/js/linear-partition.js")
    script(src="/js/partition.js")
    script(src="/js/helpers/photo.js")

block template
    script#photo.template(type="text/html").
        <img class="photo-image" style="width: <%= size[0] %>px; height: <%= size[1] %>px"
             src="<%= placeholderUrl %>"
             data-src="<%= thumbUrl %>" data-img="<%= displayUrl %>"
             data-img-original="<%= originalUrl %>"
             data-attribution="Photo by <%= owner.username %>"
        >
